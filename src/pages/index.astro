---
import Layout from '../layouts/Layout.astro';
import { articleInfos } from '../consts/articles';
import Card from '../components/Card.astro';
import ai from '../assets/imgs/thumbnails/ai.jpg';
import invector from '../assets/imgs/thumbnails/invector.webp';

const posts = await Astro.glob('../pages/*/index.md')
const getThumbnailImage = (name: string) => {
  switch (name) {
    case 'invector':
      return invector;
  }
}
---

<Layout>
	<div class="row">
    <div class="col">
      <p>記事一覧</p>
    </div>
  </div>
  <!-- <div class="row">
    {
      articleInfos.map((article) => (
        <div class="col">
          <Card title={article.title} img={ai} />
        </div>
      ))
    }
  </div> -->
  <div class="row">
    {
      posts.map((post) => (
        <div class="col-lg-3 col-md-6 col-sm-12">
          <Card
            title={post.frontmatter.title}
            description={post.frontmatter.description}
            thumbnail={getThumbnailImage(post.frontmatter.thumbnail)}
            href={post.url}
          />
        </div>
      ))
    }
  </div>
</Layout>